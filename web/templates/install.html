{{define "head"}}
<style>
    /* Smooth scroll for anchor links */
    html { scroll-behavior: smooth; }

    /* Code block styling */
    .code-block {
        position: relative;
    }
    .code-block pre {
        background-color: #1f2937;
        color: #f9fafb;
        padding: 1rem 1.25rem;
        border-radius: 0.5rem;
        overflow-x: auto;
        font-size: 0.875rem;
        line-height: 1.7;
        margin: 0;
    }
    .code-block code {
        font-family: ui-monospace, SFMono-Regular, 'SF Mono', Menlo, Consolas, 'Liberation Mono', monospace;
        background: transparent;
        padding: 0;
    }
    .dark .code-block pre {
        background-color: #111827;
    }

    /* Copy button */
    .copy-btn {
        position: absolute;
        top: 0.5rem;
        right: 0.5rem;
        padding: 0.375rem 0.625rem;
        border-radius: 0.375rem;
        font-size: 0.75rem;
        font-weight: 500;
        cursor: pointer;
        transition: all 150ms ease;
        display: flex;
        align-items: center;
        gap: 0.25rem;
        background-color: rgba(255, 255, 255, 0.1);
        color: #9ca3af;
        border: 1px solid rgba(255, 255, 255, 0.1);
    }
    .copy-btn:hover {
        background-color: rgba(255, 255, 255, 0.2);
        color: #e5e7eb;
    }
    .copy-btn.copied {
        color: #34d399;
        border-color: rgba(52, 211, 153, 0.3);
        background-color: rgba(52, 211, 153, 0.1);
    }

    /* Nav card active state with scroll-based highlighting */
    .nav-card {
        transition: all 150ms ease;
    }
    .nav-card:hover {
        border-color: #3b82f6;
    }

    /* Scroll offset for anchors (account for nav bar) */
    .section-anchor {
        scroll-margin-top: 5rem;
    }

    /* Step numbering */
    .step-list {
        counter-reset: step-counter;
        list-style: none;
        padding-left: 0;
    }
    .step-list > li {
        counter-increment: step-counter;
        position: relative;
        padding-left: 2.5rem;
        margin-bottom: 1rem;
    }
    .step-list > li::before {
        content: counter(step-counter);
        position: absolute;
        left: 0;
        top: 0.125rem;
        width: 1.75rem;
        height: 1.75rem;
        background-color: #eff6ff;
        color: #2563eb;
        border-radius: 9999px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.75rem;
        font-weight: 700;
    }
    .dark .step-list > li::before {
        background-color: rgba(37, 99, 235, 0.2);
        color: #60a5fa;
    }
</style>
{{end}}

{{define "content"}}
<div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12">

    <!-- Page Header -->
    <div class="text-center mb-8 sm:mb-12">
        <h1 class="text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white">Connect Your AI Assistant</h1>
        <p class="mt-3 text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">
            Set up common.ink with your favorite AI tools in minutes.
        </p>
    </div>

    <!-- Prerequisites -->
    <div class="mb-8 sm:mb-10 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-5 sm:p-6">
        <h2 class="text-lg font-semibold text-blue-900 dark:text-blue-200 mb-3">Before you start</h2>
        <ol class="space-y-2 text-sm sm:text-base text-blue-800 dark:text-blue-300">
            <li class="flex items-start gap-2">
                <span class="font-bold text-blue-600 dark:text-blue-400 mt-0.5 shrink-0">1.</span>
                <span>A common.ink account &mdash;
                    <a href="/register" class="underline font-medium hover:text-blue-900 dark:hover:text-blue-100">Sign up</a> or
                    <a href="/login" class="underline font-medium hover:text-blue-900 dark:hover:text-blue-100">Sign in</a>
                </span>
            </li>
        </ol>
        <p class="text-sm text-blue-700 dark:text-blue-400 mt-2">All clients below use OAuth &mdash; no API key needed. You can optionally <a href="/api-keys/new" class="underline font-medium hover:text-blue-900 dark:hover:text-blue-100">create an API key</a> for scripts or custom integrations.</p>
    </div>

    <!-- Navigation Cards -->
    <nav class="grid grid-cols-2 sm:grid-cols-5 gap-3 sm:gap-4 mb-8 sm:mb-12" aria-label="Installation methods">

        <!-- ChatGPT -->
        <a href="#chatgpt" class="nav-card group flex flex-col items-center gap-2 p-4 rounded-xl border-2 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 hover:shadow-md text-center">
            <svg class="w-8 h-8 text-gray-700 dark:text-gray-300 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 2l8.66 5v10L12 22l-8.66-5V7L12 2z" />
            </svg>
            <span class="text-sm font-medium text-gray-900 dark:text-white">ChatGPT</span>
        </a>

        <!-- Claude Web -->
        <a href="#claude-web" class="nav-card group flex flex-col items-center gap-2 p-4 rounded-xl border-2 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 hover:shadow-md text-center">
            <svg class="w-8 h-8 text-gray-700 dark:text-gray-300 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 2l2.09 6.26L20 10.27l-4.91 3.79L16.18 22 12 17.77 7.82 22l1.09-7.94L4 10.27l5.91-2.01L12 2z" />
            </svg>
            <span class="text-sm font-medium text-gray-900 dark:text-white">Claude Web</span>
        </a>

        <!-- Claude Code -->
        <a href="#claude-code" class="nav-card group flex flex-col items-center gap-2 p-4 rounded-xl border-2 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 hover:shadow-md text-center">
            <svg class="w-8 h-8 text-gray-700 dark:text-gray-300 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
            </svg>
            <span class="text-sm font-medium text-gray-900 dark:text-white">Claude Code</span>
        </a>

        <!-- Claude Desktop -->
        <a href="#claude-desktop" class="nav-card group flex flex-col items-center gap-2 p-4 rounded-xl border-2 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 hover:shadow-md text-center">
            <svg class="w-8 h-8 text-gray-700 dark:text-gray-300 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
            </svg>
            <span class="text-sm font-medium text-gray-900 dark:text-white">Claude Desktop</span>
        </a>

        <!-- Other -->
        <a href="#other-clients" class="nav-card group flex flex-col items-center gap-2 p-4 rounded-xl border-2 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 hover:shadow-md text-center">
            <svg class="w-8 h-8 text-gray-700 dark:text-gray-300 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
            </svg>
            <span class="text-sm font-medium text-gray-900 dark:text-white">Other MCP</span>
        </a>
    </nav>

    <!-- ============================================================ -->
    <!-- Section 1: ChatGPT -->
    <!-- ============================================================ -->
    <section id="chatgpt" class="section-anchor mb-10 sm:mb-14">
        <div class="flex items-center gap-3 mb-4">
            <div class="flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100 dark:bg-gray-800">
                <svg class="w-6 h-6 text-gray-700 dark:text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 2l8.66 5v10L12 22l-8.66-5V7L12 2z" />
                </svg>
            </div>
            <h2 class="text-2xl font-bold text-gray-900 dark:text-white">ChatGPT</h2>
        </div>

        <div class="bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4 mb-5 text-sm text-amber-800 dark:text-amber-300">
            Requires a paid ChatGPT plan (Plus, Pro, Team, or Enterprise). No API key needed &mdash; ChatGPT uses OAuth to connect.
        </div>

        <ol class="step-list text-gray-700 dark:text-gray-300 mb-6">
            <li>Open ChatGPT at <a href="https://chat.openai.com" target="_blank" rel="noopener noreferrer" class="text-blue-600 dark:text-blue-400 underline hover:text-blue-800 dark:hover:text-blue-300">chat.openai.com</a></li>
            <li>Click your <strong>profile icon</strong> (bottom-left)</li>
            <li>Go to <strong>Settings</strong> &gt; <strong>Connectors</strong></li>
            <li>Enable <strong>Developer Mode</strong> (under Advanced settings)</li>
            <li>Click <strong>"Create"</strong> to add a new connector</li>
            <li>
                Fill in the connector details:
                <div class="mt-2 bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden">
                    <table class="w-full text-sm">
                        <tbody class="divide-y divide-gray-200 dark:divide-gray-700">
                            <tr>
                                <td class="px-4 py-2.5 font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap">Name</td>
                                <td class="px-4 py-2.5 text-gray-600 dark:text-gray-400"><code class="bg-gray-200 dark:bg-gray-700 px-1.5 py-0.5 rounded text-xs font-mono">common.ink Notes</code></td>
                            </tr>
                            <tr>
                                <td class="px-4 py-2.5 font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap">Description</td>
                                <td class="px-4 py-2.5 text-gray-600 dark:text-gray-400"><code class="bg-gray-200 dark:bg-gray-700 px-1.5 py-0.5 rounded text-xs font-mono">Read and write your personal notes</code></td>
                            </tr>
                            <tr>
                                <td class="px-4 py-2.5 font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap">Connector URL</td>
                                <td class="px-4 py-2.5 text-gray-600 dark:text-gray-400"><code class="bg-gray-200 dark:bg-gray-700 px-1.5 py-0.5 rounded text-xs font-mono">https://common.ink/mcp</code></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </li>
            <li>Set Authentication to <strong>"OAuth"</strong></li>
            <li>Click <strong>Create</strong> &mdash; you'll be redirected to common.ink to log in and authorize access</li>
        </ol>

        <div class="bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-4 text-sm text-gray-600 dark:text-gray-400">
            Then in any conversation, click <strong class="text-gray-900 dark:text-gray-200">"+"</strong> &gt; <strong class="text-gray-900 dark:text-gray-200">"More"</strong> to select common.ink from your connectors.
        </div>
    </section>

    <!-- ============================================================ -->
    <!-- Section 2: Claude Web (claude.ai) -->
    <!-- ============================================================ -->
    <section id="claude-web" class="section-anchor mb-10 sm:mb-14">
        <div class="flex items-center gap-3 mb-4">
            <div class="flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100 dark:bg-gray-800">
                <svg class="w-6 h-6 text-gray-700 dark:text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 2l2.09 6.26L20 10.27l-4.91 3.79L16.18 22 12 17.77 7.82 22l1.09-7.94L4 10.27l5.91-2.01L12 2z" />
                </svg>
            </div>
            <h2 class="text-2xl font-bold text-gray-900 dark:text-white">Claude Web (claude.ai)</h2>
        </div>

        <div class="bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4 mb-5 text-sm text-amber-800 dark:text-amber-300">
            Requires a Claude Pro, Max, Team, or Enterprise plan. No API key needed &mdash; Claude uses OAuth to connect.
        </div>

        <ol class="step-list text-gray-700 dark:text-gray-300 mb-6">
            <li>Open <a href="https://claude.ai" target="_blank" rel="noopener noreferrer" class="text-blue-600 dark:text-blue-400 underline hover:text-blue-800 dark:hover:text-blue-300">claude.ai</a> and click your profile icon, then <strong>Settings</strong></li>
            <li>Click <strong>Connectors</strong> in the left sidebar</li>
            <li>Scroll down and click <strong>"Add custom connector"</strong></li>
            <li>
                Enter the MCP server URL:
                <div class="code-block copy-block mt-2">
                    <pre><code>https://common.ink/mcp</code></pre>
                </div>
            </li>
            <li>Click <strong>"Add"</strong> &mdash; Claude will discover the OAuth endpoints automatically</li>
            <li>You'll be redirected to common.ink to <strong>log in and authorize</strong> access</li>
            <li>Back in Claude, click <strong>"+"</strong> in the chat composer, then <strong>"Connectors"</strong> to enable it</li>
        </ol>

        <div class="bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-4 text-sm text-gray-600 dark:text-gray-400">
            <span class="font-medium text-gray-900 dark:text-gray-200">More details:</span>
            <a href="https://support.claude.com/en/articles/11175166-getting-started-with-custom-connectors-using-remote-mcp" target="_blank" rel="noopener noreferrer" class="text-blue-600 dark:text-blue-400 underline hover:text-blue-800 dark:hover:text-blue-300 ml-1">Getting started with custom connectors using remote MCP</a>
        </div>
    </section>

    <!-- ============================================================ -->
    <!-- Section 3: Claude Code (CLI) -->
    <!-- ============================================================ -->
    <section id="claude-code" class="section-anchor mb-10 sm:mb-14">
        <div class="flex items-center gap-3 mb-4">
            <div class="flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100 dark:bg-gray-800">
                <svg class="w-6 h-6 text-gray-700 dark:text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                </svg>
            </div>
            <h2 class="text-2xl font-bold text-gray-900 dark:text-white">Claude Code (CLI)</h2>
        </div>

        <div class="bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4 mb-5 text-sm text-amber-800 dark:text-amber-300">
            No API key needed &mdash; Claude Code supports OAuth natively.
        </div>

        <p class="text-gray-600 dark:text-gray-400 mb-4">
            Run one command:
        </p>

        <div class="code-block copy-block mb-4">
            <pre><code>claude mcp add --transport http commonink https://common.ink/mcp</code></pre>
        </div>

        <p class="text-gray-600 dark:text-gray-400 mb-3">
            Then type <code class="bg-gray-200 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono">/mcp</code> to authenticate. Claude Code will open a browser window for you to log in and authorize access.
        </p>

        <div class="bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-4 text-sm text-gray-600 dark:text-gray-400">
            <span class="font-medium text-gray-900 dark:text-gray-200">Example session:</span>
            <div class="code-block mt-2">
                <pre><code>$ claude mcp add --transport http commonink https://common.ink/mcp
Added HTTP MCP server commonink with URL: https://common.ink/mcp

$ claude
&gt; /mcp
Authentication successful. Connected to commonink.

&gt; show me my notes
# Claude lists your notes via the note_list tool</code></pre>
            </div>
        </div>
    </section>

    <!-- ============================================================ -->
    <!-- Section 4: Claude Desktop App -->
    <!-- ============================================================ -->
    <section id="claude-desktop" class="section-anchor mb-10 sm:mb-14">
        <div class="flex items-center gap-3 mb-4">
            <div class="flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100 dark:bg-gray-800">
                <svg class="w-6 h-6 text-gray-700 dark:text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                </svg>
            </div>
            <h2 class="text-2xl font-bold text-gray-900 dark:text-white">Claude Desktop App</h2>
        </div>

        <div class="bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4 mb-5 text-sm text-amber-800 dark:text-amber-300">
            No API key needed &mdash; Claude Desktop uses <code class="bg-amber-100 dark:bg-amber-800 px-1 rounded">mcp-remote</code> which handles OAuth automatically.
        </div>

        <ol class="step-list text-gray-700 dark:text-gray-300 mb-6">
            <li>Open Claude Desktop</li>
            <li>Click the <strong>Claude</strong> menu in your menu bar (macOS) or system tray (Windows)</li>
            <li>Go to <strong>Settings</strong> &gt; <strong>Developer</strong></li>
            <li>Click <strong>"Edit Config"</strong> to open <code class="bg-gray-200 dark:bg-gray-700 px-1.5 py-0.5 rounded text-xs font-mono">claude_desktop_config.json</code></li>
            <li>
                Add this configuration:
                <div class="code-block copy-block mt-3">
                    <pre><code>{
  "mcpServers": {
    "common-ink": {
      "command": "npx",
      "args": ["-y", "mcp-remote", "https://common.ink/mcp"]
    }
  }
}</code></pre>
                </div>
            </li>
            <li>Restart Claude Desktop completely (quit and relaunch)</li>
            <li>A browser window will open for you to <strong>log in and authorize</strong> access</li>
            <li>Look for the <strong>MCP tools icon</strong> in the bottom-right of the input box</li>
        </ol>

        <div class="bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-4 text-sm">
            <p class="font-medium text-gray-900 dark:text-gray-200 mb-2">Config file locations:</p>
            <ul class="space-y-1 text-gray-600 dark:text-gray-400">
                <li>
                    <span class="font-medium text-gray-700 dark:text-gray-300">macOS:</span>
                    <code class="bg-gray-200 dark:bg-gray-700 px-1.5 py-0.5 rounded text-xs font-mono">~/Library/Application Support/Claude/claude_desktop_config.json</code>
                </li>
                <li>
                    <span class="font-medium text-gray-700 dark:text-gray-300">Windows:</span>
                    <code class="bg-gray-200 dark:bg-gray-700 px-1.5 py-0.5 rounded text-xs font-mono">%APPDATA%\Claude\claude_desktop_config.json</code>
                </li>
            </ul>
        </div>
    </section>

    <!-- ============================================================ -->
    <!-- Section 5: Other MCP Clients -->
    <!-- ============================================================ -->
    <section id="other-clients" class="section-anchor mb-10 sm:mb-14">
        <div class="flex items-center gap-3 mb-4">
            <div class="flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100 dark:bg-gray-800">
                <svg class="w-6 h-6 text-gray-700 dark:text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
                </svg>
            </div>
            <h2 class="text-2xl font-bold text-gray-900 dark:text-white">Other MCP Clients</h2>
        </div>

        <p class="text-gray-600 dark:text-gray-400 mb-5">
            For any MCP-compatible client, use these connection details:
        </p>

        <div class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl overflow-hidden shadow-sm mb-6">
            <table class="w-full text-sm">
                <tbody class="divide-y divide-gray-200 dark:divide-gray-700">
                    <tr>
                        <td class="px-5 py-3.5 font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap bg-gray-50 dark:bg-gray-800/80 w-40">MCP Endpoint</td>
                        <td class="px-5 py-3.5"><code class="bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded text-sm font-mono text-gray-800 dark:text-gray-200">https://common.ink/mcp</code></td>
                    </tr>
                    <tr>
                        <td class="px-5 py-3.5 font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap bg-gray-50 dark:bg-gray-800/80">Transport</td>
                        <td class="px-5 py-3.5 text-gray-600 dark:text-gray-400">Streamable HTTP</td>
                    </tr>
                    <tr>
                        <td class="px-5 py-3.5 font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap bg-gray-50 dark:bg-gray-800/80">Authentication</td>
                        <td class="px-5 py-3.5 text-gray-600 dark:text-gray-400">OAuth 2.1 with PKCE (auto-discovered) or Bearer token (API key)</td>
                    </tr>
                    <tr>
                        <td class="px-5 py-3.5 font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap bg-gray-50 dark:bg-gray-800/80">OAuth Discovery</td>
                        <td class="px-5 py-3.5"><code class="bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded text-sm font-mono text-gray-800 dark:text-gray-200">https://common.ink/.well-known/oauth-protected-resource</code></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <p class="text-sm text-gray-500 dark:text-gray-400">
            Clients that support OAuth 2.1 (like ChatGPT and Claude) will auto-discover endpoints and handle authentication. For clients that don't support OAuth, use an <a href="/api-keys/new" class="text-blue-600 dark:text-blue-400 underline">API key</a> as a Bearer token.
        </p>
    </section>

</div>

<!-- Copy button JavaScript -->
<script>
(function() {
    // Find all copy-block elements and add copy buttons
    var blocks = document.querySelectorAll('.copy-block');
    blocks.forEach(function(block) {
        var pre = block.querySelector('pre');
        if (!pre) return;

        var btn = document.createElement('button');
        btn.type = 'button';
        btn.className = 'copy-btn';
        btn.setAttribute('aria-label', 'Copy to clipboard');
        btn.innerHTML = '<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg><span>Copy</span>';

        btn.addEventListener('click', function() {
            var code = pre.querySelector('code');
            var text = code ? code.textContent : pre.textContent;

            navigator.clipboard.writeText(text).then(function() {
                btn.classList.add('copied');
                btn.querySelector('span').textContent = 'Copied';
                btn.querySelector('svg').innerHTML = '<path d="M20 6L9 17l-5-5" />';

                setTimeout(function() {
                    btn.classList.remove('copied');
                    btn.querySelector('span').textContent = 'Copy';
                    btn.querySelector('svg').innerHTML = '<rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/>';
                }, 2000);
            }).catch(function() {
                var textarea = document.createElement('textarea');
                textarea.value = text;
                textarea.style.position = 'fixed';
                textarea.style.opacity = '0';
                document.body.appendChild(textarea);
                textarea.select();
                try {
                    document.execCommand('copy');
                    btn.classList.add('copied');
                    btn.querySelector('span').textContent = 'Copied';
                    setTimeout(function() {
                        btn.classList.remove('copied');
                        btn.querySelector('span').textContent = 'Copy';
                    }, 2000);
                } catch(e) {
                    btn.querySelector('span').textContent = 'Failed';
                    setTimeout(function() {
                        btn.querySelector('span').textContent = 'Copy';
                    }, 2000);
                }
                document.body.removeChild(textarea);
            });
        });

        block.appendChild(btn);
    });
})();
</script>
{{end}}
